<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="layouts :: header"></head>

<body>
<nav th:replace="layouts :: navbar"></nav>
<div class="container">
  <h3>Main Dashboard</h3>
  <a th:text="${versionNumber}"></a>
  <hr>
  <h4>Current Projects</h4>
  <div class="row">
    <div class="col-md-6">
      <table class="table table-bordered table-striped">
        <thead class="thread-dark">
        <tr>
          <th>Project Name</th>
          <th>Project Stage</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="project : ${projects}">
          <td th:text="${project.name}"/>
          <td th:text="${project.stage}"/>
          </td>
        </tr>
        </tbody>
      </table>
    </div>

    <div class="col-md-4">
      <canvas id="myPieChart" height="50" width="50"></canvas>
      <script>
        var chartData = "[[${projectStatusCnt}]]"
      </script>
    </div>

  </div>
</div>
<div class="container">
  <h4>Current Employees</h4>
  <div class="raw">
    <div class="col-md-6">
      <table class="table table-bordered table-striped">
        <thead class="thread-dark">
        <tr>
          <th>First Name</th>
          <th>Last Stage</th>
          <th>Project count</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="employeeProjectCnt : ${employeesListProjectsCnt}">
          <td th:text="${employeeProjectCnt.firstName}"/>
          <td th:text="${employeeProjectCnt.lastName}"/>
          <td th:text="${employeeProjectCnt.projectCount}"/>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<script type="text/javascript" th:src="@{js/myChart.js}"></script>

</body>

</html>